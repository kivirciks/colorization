<h1>Колоризация изображений</h1>
<h2>Входящие файлы</h2>
<li>4140_CV_ЛР1_Строкова_PIL.ipynb - ноутбук с программным кодом на Python, реализация алгоритма через библиотеку Matplotlib;
<li>4140_CV_ЛР1_Строкова_Нативно.ipynb - ноутбук с программным кодом на Python, реализация алгоритма с использованием базовых библиотек;
<li>C++ - каталог с программным кодом на C++;
<li>4140_CV_ЛР1_Строкова.pdf - текстовый отчет;
<li>Каталог "Изображения" - исходные и итоговые изображения.
<h2>Постановка задачи</h2>
Цель работы: научиться реализовывать один из простых алгоритмов обработки изображений.<br>
<br>
Базовый алгоритм: колоризация.<br>
<br>
Задание: на вход поступает изображение, программа отрисовывает окно, в которое выводится либо исходное изображение после преобразования в черно-белое, либо после колоризации.<br>
<br>
Задачи: 
<li>реализовать алгоритм с использованием встроенных функций какой-либо библиотеки (OpenCV, PIL и др.);
<li>реализовать алгоритм с помощью примитивных операций и циклов на Python;
<li>реализовать алгоритм с помощью компилируемого кода (на C++);
<br>
<h2>Теоретическая база</h2>
Модель RGB основана на аддитивной комбинации трех основных цветов – красного (Red), зеленого (Green) и синего (Blue). Она описывает системы, основанные на испускании света для получения нужного цвета (телевизоры, мониторы). Сами по себе значения R, G, B не несут физического смысла, нужна привязка к исходному цветовому пространству. В основном методы компьютерного зрения по умолчанию работают именно в формате RGB.<br>
<br>
В большинстве изображений пиксели представлены двумя способами: в оттенках серого и в цветовом пространстве RGB. В изображениях в оттенках серого каждый пиксель имеет значение между 0 и 255, где 0 соответствует чёрному, а 255 соответствует белому. А значения между 0 и 255 принимают различные оттенки серого, где значения ближе к 0 более тёмные, а значения ближе к 255 более светлые.<br>
<br>
Цветные пиксели обычно представлены в цветовом пространстве RGB. Каждая из трёх компонент представлена целым числом в диапазоне от 0 до 255 включительно, которое указывает как «много» цвета содержится. Затем мы объединяем значения всех трёх компонент в кортеж вида (красный, зеленый, синий). К примеру, чтобы получить белый цвет, каждая из компонент должна равняться 255: (255, 255, 255). Тогда, чтобы получить чёрный цвет, каждая из компонент должна быть равной 0: (0, 0, 0).<br>
<br>
Исходное изображение:<br>
<img src="Изображения/Dog.jpeg"/ width="350" height="350">

<h2>Колоризация на Python с использованием библиотеки Matplorlib</h2>
Для колоризации используем функцию mpl.colors.ListedColormap, которая позволяет создать пользовательскую шкалу. В нашем случае использовались коричневый, оранжевый, желтый и зеленый.<br>
<img src="Изображения/Matplotlib.png"/ width="350" height="350">



<h2>Колоризация на Python c использованием примитивных операций</h2>
Для решения этой задачи используем возможности стандартной библиотеки Matplotlib, которая предназначена для работы с графиками. Для колоризации будет задействованы цветовые шкалы (cmap) gist_gray и winter. <br>
<img src="Изображения/Нативно.png"/ width="350" height="350">
<img src="Изображения/Color_Нативно.png"/>



<h2>Колоризация на C++</h2>
Воспользуемся библиотекой OpenCV для решения задачи колоризации на C++. Создадим консольное приложение, которое на вход будет подавать наше уже известное изображение собаки. Используя алгоритмы максимизации одного из цветового потока (в нашем случае синего), перекрасим черно-белую фотографию в синие оттенки.  <br>
<img src="Изображения/C++.PNG"/ width="350" height="350">



<h2>Выводы по работе</h2>
Проведена колоризация черно-белого изображения тремя разными методами: на Python с использованием библиотеки PIL, на Python нативно и на C++.<br>
<br>
На вход подавалась 1 черно-белая фотография размером 631 на 631 пиксель. На выходе алгоритм выдавал колоризированное изображение по заранее заданной цветовой шкале. <br>
<br>
Составим таблицу, чтобы сравнить быстродействие реализованных алгоритмов.<br>
<br>
<table border="1">
   <tr>
    <th>Алгоритм</th>
    <th>Python с библиотекой</th>
    <th>Python нативно</th>
    <th>C++</th>
   </tr>
   <tr>
    <th>CPU times</th>
    <th>110 ms</th>
    <th>297 ms</th>
    <th>3,549</th>
   </tr>
    <th>Wall time</th>
    <th>118 ms</th>
    <th>439 ms</th>
    <th>3,549</th>
   </tr>
 </table>
Таким образом, мы выполнили колоризацию черно-белого изображения по изначально заданным значениям. Отмечу, что использование C++ заметно уменьшает время работы алгоритма, в то время как нативное использование стандартных функций предполагает наиболее долгую обработку.
